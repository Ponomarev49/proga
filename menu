using System;
namespace menu
{
    class Program
    {
        public static int n;
        public static string[,] people;
        public static string[][,] book;
        static void Main()
        {
            bool rgrka = true;
            while (rgrka)
            {
                rgrka = MainMenu();
            }
        }
        public static bool MainMenu()
        {

            Console.Clear();
            Console.WriteLine("Меню");
            Console.WriteLine("1) Добавить учителя");
            Console.WriteLine("2) Выбрать учителей по предмету");
            Console.WriteLine("3) Выбрать учителей по стажу работы в последней организации");
            Console.WriteLine("4) Показать всех учителей");
            Console.WriteLine("5) Выход");
            Console.Write("\r\nВыберите действие: ");
            switch (Console.ReadLine())
            {
                case "1":
                    Hello();
                    return true;
                case "2":
                    if (n > 0)
                    {
                        subject(people);
                        return true;
                    }
                    else
                    {
                        Console.Clear();
                        Console.WriteLine("В базе данных нет учителей");
                        return false;
                    }
                case "3":
                    if (n > 0)
                    {
                        work(people, book);
                        return true;
                    }
                    else
                    {
                        Console.Clear();
                        Console.WriteLine("В базе данных нет учителей");
                        return false;
                    }
                case "4":
                    if (n > 0)
                    {
                        info(people);
                        return true;
                    }
                    else
                    {
                        Console.Clear();
                        Console.WriteLine("В базе данных нет учителей");
                        return false;
                    }
                case "5":
                    return false;
                default:
                    return true;
            }
        }
        public static void Hello() 
        {
            Console.Clear();
            Console.WriteLine("Введите колво");
            n = Convert.ToInt32(Console.ReadLine());
            people = new string[n,3];
            book = new string[n][,];
            for (int i = 0; i < n; i++)
            {
                Console.WriteLine("Введите фио");
                people[i,0]=Console.ReadLine();
                Console.WriteLine("Введите дату рождения(день.месяц.год)"); 
                people[i,1]=Console.ReadLine();
                Console.WriteLine("Введите предмет"); 
                people[i,2]=Console.ReadLine();
                Console.WriteLine("Введите колво организаций"); 
                int l = Convert.ToInt32(Console.ReadLine());
                book[i] = new string[l, 3];
                for (int k = 0; k < l; k++)
                {
                    Console.WriteLine("Введите дату поступления(день.месяц.год)");
                    book[i][k, 0] = Console.ReadLine();
                    Console.WriteLine("Введите организацию");
                    book[i][k, 1] = Console.ReadLine();
                    Console.WriteLine("Введите дату увольнения(день.месяц.год)");
                    book[i][k, 2] = Console.ReadLine();
                }
                Console.Clear();
            }
            Console.Write("\r\nНажмите Enter, чтобы вернуться в главное меню");
            Console.ReadLine();
        }
        public static void subject(string[,]a)
        {
            Console.Clear();
            Console.Write("По какому предмету выбрать учителей? ");
            string f=Console.ReadLine();
            for (int i = 0; i < a.GetLength(0); i++)
            {
                if (f==a[i,2]) Console.WriteLine(a[i,0]);
            }
            Console.Write("\r\nНажмите Enter, чтобы вернуться в главное меню");
            Console.ReadLine();
        }
        public static void work(string[,]a,string[][,] b)
        {
            Console.Clear();
            Console.Write("Введите сколько должен работать учитель в формате лет,месяцев,дней ");
            string f=Console.ReadLine();
            string[] data = f.Split(',');
            for (int i = 0; i < b.GetLength(0); i++)
            {
                string[] data1 = b[i][b.GetLength(1)-1,0].Split('.');
                string[] data2 = b[i][b.GetLength(1)-1,2].Split('.');
                int dat = Convert.ToInt32(data[0]) * 360 + Convert.ToInt32(data[1]) * 30 + Convert.ToInt32(data[2]);
                int dat1 = Convert.ToInt32(data1[2]) * 360 + Convert.ToInt32(data1[1]) * 30 + Convert.ToInt32(data1[0]);
                int dat2 = Convert.ToInt32(data2[2]) * 360 + Convert.ToInt32(data2[1]) * 30 + Convert.ToInt32(data2[0]);
                if (dat<dat1+dat2) Console.WriteLine(a[i,0]);
            }
            Console.Write("\r\nНажмите Enter, чтобы вернуться в главное меню");
            Console.ReadLine();
        }
        public static void info(string[,]a)
        {
            Console.Clear();
            for (int i = 0; i < a.GetLength(0); i++)
            {
                Console.WriteLine(a[i,0]);
            }
            Console.Write("\r\nНажмите Enter, чтобы вернуться в главное меню");
            Console.ReadLine();
        }
    }
}
